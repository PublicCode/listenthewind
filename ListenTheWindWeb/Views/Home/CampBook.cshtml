@using Newtonsoft.Json
@{
    Layout = "~/Views/Home/_HomeLayout.cshtml";
}
 <script src="@Url.Content("~/Scripts/T2VBusiness/CampDetail/t2v-CampDetail.js")" type="text/javascript"></script>
 <script src="@Url.Content("~/Scripts/T2VBusiness/Camp/CampBook.js") " type="text/javascript"></script>
    <div class="container" id="ng-value" ng-controller="CampBookCtrl">
		<h1 class="tit4">在线预订</h1>
        <div class="detail-con clear">
            <div class="detail-left">
                <div class="clear">
                    <div id="slider" class="flexslider2">
                        <ul class="slides">
                            <li ng-repeat="campphoto in camp.ModelListcampphoto">
                                <img src="../../UploadImg/Camp/{{campphoto.CampPhoteFile}}" /></li>
                        </ul>
                    </div>
                    <div id="carousel" class="flexslider4">
                        <ul class="slides">
                            <li ng-repeat="campphoto in camp.ModelListcampphoto" style="margin-right:5px">
                                <img style="width:123px; height:81px" src="../../UploadImg/Camp/{{campphoto.CampPhoteFile}}" /></li>
                        </ul>
                    </div>
                </div>
                </div>
                <div class="detail-right">
                    <div class="price">
                       <div class="x-bg-con" ng-bind-html="camp.CampLevel | toCampLevel"></div>
                        <!--百分比调整星级-->
                        <h1 style="margin-bottom: 15px;">听风编号:{{camp.CampNum}}<strong>{{camp.CampName}}</strong></h1>
                        @*<h2>Tianmu lake mountain and water garden</h2>*@
                        <div class="rmb" style="line-height: 200%">￥:{{camp.PilePrice}}</div>
                        <div class="tf-ts" style="padding: 15px 0 10px">
                            <h3 style="line-height: 24px;">听风特色</h3>
                            <div class="tf-ts-con" style="margin-bottom: 40px; padding-top: 15px">
                                <span ng-repeat="campitem in camp.ModelListcampitem">
                                    <img title="{{campitem.CampItemName}}" src="../../Content/images/{{campitem.CampItemIcon}}" />
                                </span>
                            </div>
                        </div>
                    </div>
                 </div>
             <div class="detail-left detail-lr clear">
             	<h2 class="h-tit1">填写客户信息</h2>
                <div class="book-con">
                	<h3>客户信息</h3>
                    <div class="book-txt clear">
                    	<ul class="cw">
                        	<li class="clear">
                            	<span>登 录 邮 箱：{{userInfo.Mail}}</span><a class="or" href="#">修改邮箱</a>
                            </li>
                            <li class="clear">
                            	<span>手 机 号 码： {{userInfo.Mobile}}<a class="dengl" href="#">更换号码</a></span><a class="or" href="#">解绑手机</a>
                            </li>
                            <li class="clear">
                            	<span>上 次 登 录： 2014年09月19日 12:25:20</span><a class="or" href="#">(不是您登录的？请点击这里)</a>
                            </li>
                        </ul>
                    </div>
                </div>
                <h2 class="h-tit2">可选入住信息</h2>
                 <div class="book-con">
                	<h3></h3>
                     <div class="cal-kalendae" id="calendarpick"></div>
                </div>
                <h2 class="h-tit3">便利设施选择</h2>
                 <div class="book-con">
                	<h3></h3>
                    <div class="book-list clear">
                    	<div class="book-left">
                        	<ul class="dxuan clear">
                                <li ng-repeat="info in basicdata | filter: 'campitem'">
                                    <input type="checkbox" class="campitem" ng-checked="info.Checked" disabled ="disabled"/>{{ info.DataName }}
                                </li>
                            </ul>
                        </div>
                        <div class="book-right">
                        	<div class="br-top">
                            	便利设施:
                            </div>
                            <ul>
                            	<li ng-repeat="campprice in camp.ModelListcampprice" style="background:none">
                                	<input type="checkbox" ng-model ="campprice.Checked"/><span>{{campprice.ItemName}} - <em>价格：￥{{campprice.ItemPrice}};</em><em>数量：<input type="text" ng-model ="campprice.Qty"/></em>
                                </li>
                            </ul>
                        </div>
                        <input type="button"  ng-click="bookcamp();" value="预定"/>
                    </div>
                </div>
             </div>
         </div>
    </div>
<script>
    t2v_CampDetail.CampInfo = @Html.Raw(JsonConvert.SerializeObject(ViewBag.CampInfo));
    t2v_CampDetail.PileId = @Html.Raw(JsonConvert.SerializeObject(ViewBag.PileID));
    t2v_CampDetail.BasicData = @Html.Raw(JsonConvert.SerializeObject(ViewBag.BasicData));
    t2v_CampDetail.DefaultDate = @Html.Raw(JsonConvert.SerializeObject(ViewBag.DefaultDate));
    angular.element(document).ready(function () {
        angular.bootstrap($('body'), ['SO']);
        $('#carousel').flexslider({
            animation: "slide",
            controlNav: false,
            animationLoop: false,
            slideshow: false,
            itemWidth: 125,
            itemMargin: 5,
            asNavFor: '#slider'
        });

        $('#slider').flexslider({
            animation: "slide",
            controlNav: false,
            animationLoop: false,
            slideshow: false,
            sync: "#carousel",
            start: function(slider){
            }
        });
        
        $("#service").jRating({
            isDisabled: false,
            length: 5,
        });
    });
</script>


